# Рішення: Обробники подій у React

## Завдання 1: Знайдіть та виправте помилки

### Код 1: AlertButton

#### ❌ Помилка:

```jsx
function AlertButton() {
  return <button onclick="alert('Hello')">Click me</button>;
}
```

**Проблеми:**

1. Використано `onclick` замість `onClick` (неправильний регістр)
2. Обробник переданий як рядок `"alert('Hello')"` замість функції
3. У React обробники мають бути функціями, а не рядками

#### ✅ Виправлений код:

```jsx
// AlertButton.jsx
export default function AlertButton() {
  return <button onClick={() => alert("Hello")}>Click me</button>;
}
```

**Пояснення:**

- У React атрибути подій пишуться в camelCase: `onClick`, `onChange`, `onSubmit`
- Обробник має бути функцією: `onClick={() => alert('Hello')}`
- Альтернатива: винести обробник в окрему функцію

---

### Код 2: GreetButton

#### ❌ Помилка:

```jsx
function GreetButton() {
  const handleClick = alert("Hello!");

  return <button onClick={handleClick}>Greet</button>;
}
```

**Проблеми:**

1. `alert("Hello!")` викликається **одразу** при рендерингу компонента
2. `handleClick` отримує результат виконання `alert()` (undefined), а не функцію
3. При кліку на кнопку нічого не відбувається

#### ✅ Виправлений код:

```jsx
// GreetButton.jsx
export default function GreetButton() {
  const handleClick = () => {
    alert("Hello!");
  };

  return <button onClick={handleClick}>Greet</button>;
}
```

**Пояснення:**

- Обробник має бути функцією, яка буде викликана при події
- `handleClick` тепер є функцією, а не результатом її виконання
- `onClick={handleClick}` передає посилання на функцію (без дужок!)

---

### Код 3: Counter

#### ❌ Помилка:

```jsx
function Counter() {
  let count = 0;

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={count++}>Increment</button>
    </div>
  );
}
```

**Проблеми:**

1. `count++` виконується одразу при рендерингу, а не при кліку
2. Звичайна змінна `let count` не викликає повторний рендеринг
3. `count++` повертає число, а не функцію
4. React не знає, що потрібно оновити інтерфейс

#### ✅ Виправлений код:

```jsx
// Counter.jsx
import { useState } from "react";

export default function Counter() {
  const [count, setCount] = useState(0);

  const handleIncrement = () => {
    setCount(count + 1);
  };

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={handleIncrement}>Increment</button>
    </div>
  );
}
```

**Пояснення:**

- Використано `useState` для створення реактивної змінної
- `setCount(count + 1)` оновлює стан і викликає повторний рендеринг
- Обробник `handleIncrement` є функцією, яка викликається при кліку

---

### Код 4: DeleteButton

#### ❌ Помилка:

```jsx
function DeleteButton({ itemId }) {
  const handleDelete = () => {
    console.log("Delete item", itemId);
  };

  return <button onClick={handleDelete()}>Delete</button>;
}
```

**Проблеми:**

1. `handleDelete()` з дужками викликає функцію **одразу** при рендерингу
2. При кліку на кнопку нічого не відбувається
3. Функція виконується один раз при створенні компонента, а не при кліку

#### ✅ Виправлений код:

```jsx
// DeleteButton.jsx
export default function DeleteButton({ itemId }) {
  const handleDelete = () => {
    console.log("Delete item", itemId);
  };

  return <button onClick={handleDelete}>Delete</button>;
}
```

**Пояснення:**

- `onClick={handleDelete}` передає **посилання** на функцію (без дужок)
- Функція буде викликана React при події кліку
- Якщо потрібно передати параметри, використовуйте стрілкову функцію: `onClick={() => handleDelete(itemId)}`

---

### Код 5: LoginForm

#### ❌ Помилка:

```jsx
function LoginForm() {
  const button = document.getElementById("submit-btn");

  button.addEventListener("click", function () {
    console.log("Form submitted");
  });

  return (
    <form>
      <input type="text" />
      <button id="submit-btn">Submit</button>
    </form>
  );
}
```

**Проблеми:**

1. Використання `document.getElementById` — це **не React-підхід**
2. DOM-елемент ще не існує на момент виконання коду (компонент не відрендерений)
3. `addEventListener` додається при кожному рендері, створюючи витоки пам'яті
4. У React події обробляються через JSX-атрибути

#### ✅ Виправлений код:

```jsx
// LoginForm.jsx
export default function LoginForm() {
  const handleSubmit = (event) => {
    event.preventDefault(); // Запобігаємо перезавантаженню сторінки
    console.log("Form submitted");
  };

  return (
    <form onSubmit={handleSubmit}>
      <input type="text" />
      <button type="submit">Submit</button>
    </form>
  );
}
```

**Пояснення:**

- Використано `onSubmit` на формі замість `onClick` на кнопці
- `event.preventDefault()` запобігає стандартній поведінці форми
- Це декларативний React-підхід (без прямої роботи з DOM)
- Події автоматично очищаються при розмонтуванні компонента

---

## Завдання 2.3: Список кнопок з параметрами

### Створіть файл `ButtonList.jsx`

```jsx
// ButtonList.jsx
import "./ButtonList.css";

export default function ButtonList() {
  const actions = [
    { id: 1, name: "Зберегти", action: "save" },
    { id: 2, name: "Видалити", action: "delete" },
    { id: 3, name: "Редагувати", action: "edit" },
    { id: 4, name: "Поділитися", action: "share" },
  ];

  const handleAction = (name, action) => {
    alert(`Дія: ${name}, Тип: ${action}`);
  };

  return (
    <div className="button-list">
      <h2>Список дій</h2>
      <div className="buttons-container">
        {actions.map((action) => (
          <button
            key={action.id}
            className="action-button"
            onClick={() => handleAction(action.name, action.action)}
          >
            {action.name}
          </button>
        ))}
      </div>
    </div>
  );
}
```

### Створіть файл `ButtonList.css`

```css
/* ButtonList.css */
.button-list {
  max-width: 600px;
  margin: 40px auto;
  padding: 20px;
}

.button-list h2 {
  text-align: center;
  color: #333;
  margin-bottom: 30px;
}

.buttons-container {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.action-button {
  padding: 15px 30px;
  font-size: 18px;
  font-weight: bold;
  border: 2px solid #007bff;
  border-radius: 8px;
  background-color: #fff;
  color: #007bff;
  cursor: pointer;
  transition: all 0.3s ease;
}

.action-button:hover {
  background-color: #007bff;
  color: #fff;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);
}

.action-button:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
}
```

---

## Використання всіх компонентів в `App.jsx`

```jsx
// App.jsx
import "./App.css";
import AlertButton from "./components/AlertButton";
import GreetButton from "./components/GreetButton";
import Counter from "./components/Counter";
import DeleteButton from "./components/DeleteButton";
import LoginForm from "./components/LoginForm";
import ButtonList from "./components/ButtonList";

export default function App() {
  return (
    <div className="app">
      <h1>Обробники подій у React</h1>

      <section className="section">
        <h2>1. AlertButton</h2>
        <AlertButton />
      </section>

      <section className="section">
        <h2>2. GreetButton</h2>
        <GreetButton />
      </section>

      <section className="section">
        <h2>3. Counter</h2>
        <Counter />
      </section>

      <section className="section">
        <h2>4. DeleteButton</h2>
        <DeleteButton itemId={123} />
      </section>

      <section className="section">
        <h2>5. LoginForm</h2>
        <LoginForm />
      </section>

      <section className="section">
        <h2>6. ButtonList</h2>
        <ButtonList />
      </section>
    </div>
  );
}
```

### `App.css`

```css
/* App.css */
.app {
  max-width: 1000px;
  margin: 0 auto;
  padding: 40px 20px;
  font-family: "Arial", sans-serif;
}

.app h1 {
  text-align: center;
  color: #333;
  margin-bottom: 40px;
  font-size: 36px;
}

.section {
  background-color: #f8f9fa;
  border: 2px solid #dee2e6;
  border-radius: 12px;
  padding: 30px;
  margin-bottom: 30px;
}

.section h2 {
  color: #495057;
  margin-bottom: 20px;
  font-size: 24px;
}

button {
  font-family: inherit;
}
```

---

## Структура проєкту

```
src/
├── components/
│   ├── AlertButton.jsx
│   ├── GreetButton.jsx
│   ├── Counter.jsx
│   ├── DeleteButton.jsx
│   ├── LoginForm.jsx
│   ├── ButtonList.jsx
│   └── ButtonList.css
├── App.jsx
├── App.css
└── main.jsx
```

---

## Основні правила обробників подій ✅

### 1. **Використовуйте camelCase**

```jsx
onClick, onChange, onSubmit, onMouseEnter;
```

### 2. **Передавайте функцію, а не результат її виконання**

```jsx
✅ onClick={handleClick}
❌ onClick={handleClick()}
```

### 3. **Для параметрів використовуйте стрілкову функцію**

```jsx
onClick={() => handleDelete(id)}
```

### 4. **Не використовуйте DOM API**

```jsx
❌ document.getElementById()
✅ onClick={handleClick}
```

### 5. **Для форм використовуйте onSubmit + preventDefault**

```jsx
<form onSubmit={(e) => { e.preventDefault(); /* ... */ }}>
```

---

## Запуск проєкту

```bash
npm run dev
```

Перевірте всі компоненти у браузері! 🎉
