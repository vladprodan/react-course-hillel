# –ü–æ–∫—Ä–æ–∫–æ–≤–µ —Ä—ñ—à–µ–Ω–Ω—è: Redux Toolkit –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é

## –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Redux Toolkit

–°–ø–æ—á–∞—Ç–∫—É –≤—Å—Ç–∞–Ω–æ–≤–∏–º–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–∞–∫–µ—Ç–∏:

```bash
npm install @reduxjs/toolkit react-redux
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**

- `@reduxjs/toolkit` - –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π –Ω–∞–±—ñ—Ä —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ Redux –∑ —Å–ø—Ä–æ—â–µ–Ω–∏–º API
- `react-redux` - –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó Redux –∑ React

---

## –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Auth Slice

–°—Ç–≤–æ—Ä–∏–º–æ slice –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é:

```javascript
// features/auth/authSlice.js
import { createSlice } from "@reduxjs/toolkit";

// –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω
const initialState = {
  isAuthenticated: false,
  user: null, // { id: '...', name: '...' }
  loading: false,
  error: null,
};

// –°—Ç–≤–æ—Ä–µ–Ω–Ω—è slice
const authSlice = createSlice({
  name: "auth", // –Ü–º'—è slice (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø—Ä–µ—Ñ—ñ–∫—Å—ñ–≤ action types)
  initialState,
  reducers: {
    // Reducer –¥–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤—Ö–æ–¥—É
    loginSuccess: (state, action) => {
      // –ó–∞–≤–¥—è–∫–∏ Immer –º–æ–∂–µ–º–æ –ø–∏—Å–∞—Ç–∏ –∫–æ–¥, —â–æ –≤–∏–≥–ª—è–¥–∞—î —è–∫ –º—É—Ç–∞—Ü—ñ—è
      state.isAuthenticated = true;
      state.user = action.payload; // { id, name }
      state.loading = false;
      state.error = null;
    },

    // Reducer –¥–ª—è –≤–∏—Ö–æ–¥—É
    logout: (state) => {
      state.isAuthenticated = false;
      state.user = null;
      state.loading = false;
      state.error = null;
    },

    // Reducer –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
    setLoading: (state, action) => {
      state.loading = action.payload; // boolean
    },

    // –î–æ–¥–∞—Ç–∫–æ–≤–∏–π reducer –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏
    setError: (state, action) => {
      state.error = action.payload;
      state.loading = false;
    },

    // –î–æ–¥–∞—Ç–∫–æ–≤–∏–π reducer –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏
    clearError: (state) => {
      state.error = null;
    },
  },
});

// –ï–∫—Å–ø–æ—Ä—Ç action creators
export const { loginSuccess, logout, setLoading, setError, clearError } =
  authSlice.actions;

// –ï–∫—Å–ø–æ—Ä—Ç —Å–µ–ª–µ–∫—Ç–æ—Ä—ñ–≤ –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ
export const selectIsAuthenticated = (state) => state.auth.isAuthenticated;
export const selectUser = (state) => state.auth.user;
export const selectLoading = (state) => state.auth.loading;
export const selectError = (state) => state.auth.error;

// –ï–∫—Å–ø–æ—Ä—Ç reducer –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
export default authSlice.reducer;
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è –∫–ª—é—á–æ–≤–∏—Ö –º–æ–º–µ–Ω—Ç—ñ–≤:**

- `createSlice` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î action creators —Ç–∞ action types
- –ó–∞–≤–¥—è–∫–∏ **Immer** –º–æ–∂–µ–º–æ –ø–∏—Å–∞—Ç–∏ "–º—É—Ç—É—é—á–∏–π" –∫–æ–¥, —è–∫–∏–π –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —Å—Ç–≤–æ—Ä—é—î immutable –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- `state.isAuthenticated = true` –≤–∏–≥–ª—è–¥–∞—î —è–∫ –º—É—Ç–∞—Ü—ñ—è, –∞–ª–µ Immer —Ä–æ–±–∏—Ç—å —Ü–µ –±–µ–∑–ø–µ—á–Ω–æ
- –ï–∫—Å–ø–æ—Ä—Ç—É—î–º–æ action creators (`loginSuccess`, `logout`) –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –ï–∫—Å–ø–æ—Ä—Ç—É—î–º–æ reducer –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ store

---

## –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Redux Store

–°—Ç–≤–æ—Ä–∏–º–æ –≥–ª–æ–±–∞–ª—å–Ω–∏–π store:

```javascript
// app/store.js
import { configureStore } from "@reduxjs/toolkit";
import authReducer from "../features/auth/authSlice";

// –°—Ç–≤–æ—Ä–µ–Ω–Ω—è store –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º configureStore
const store = configureStore({
  reducer: {
    auth: authReducer, // –ü—ñ–¥–∫–ª—é—á–∞—î–º–æ auth reducer –ø—ñ–¥ –∫–ª—é—á–µ–º 'auth'
  },
  // configureStore –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—î:
  // - Redux DevTools Extension
  // - thunk middleware
  // - –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –Ω–∞ –º—É—Ç–∞—Ü—ñ—ó —Ç–∞ serializable values (—Ç—ñ–ª—å–∫–∏ –≤ dev —Ä–µ–∂–∏–º—ñ)
});

export default store;
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**

- `configureStore` - —Å–ø—Ä–æ—â–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è `createStore` –∑ –∫–æ—Ä–∏—Å–Ω–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏
- `reducer` - –æ–±'—î–∫—Ç –∑ —É—Å—ñ–º–∞ reducers –¥–æ–¥–∞—Ç–∫—É
- `auth: authReducer` - —Å—Ç–∞–Ω –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π —è–∫ `state.auth`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î Redux DevTools –¥–ª—è –≤—ñ–¥–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

---

## –ö—Ä–æ–∫ 4: –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Redux –¥–æ React

–û–±–≥–æ—Ä–Ω–µ–º–æ –¥–æ–¥–∞—Ç–æ–∫ —É Provider:

```javascript
// index.js
import React from "react";
import ReactDOM from "react-dom/client";
import { Provider } from "react-redux";
import store from "./app/store";
import App from "./App";
import "./index.css";

const root = ReactDOM.createRoot(document.getElementById("root"));

root.render(
  <React.StrictMode>
    {/* Provider –Ω–∞–¥–∞—î –¥–æ—Å—Ç—É–ø –¥–æ store –≤—Å—ñ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º */}
    <Provider store={store}>
      <App />
    </Provider>
  </React.StrictMode>
);
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**

- `Provider` —Ä–æ–±–∏—Ç—å Redux store –¥–æ—Å—Ç—É–ø–Ω–∏–º –¥–ª—è –≤—Å—ñ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- –í—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `<Provider>` –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `useSelector` —Ç–∞ `useDispatch`

---

## –ö—Ä–æ–∫ 5: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ AuthStatus

–°—Ç–≤–æ—Ä–∏–º–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:

```javascript
// components/AuthStatus.jsx
import React from "react";
import { useSelector, useDispatch } from "react-redux";
import {
  loginSuccess,
  logout,
  selectIsAuthenticated,
  selectUser,
  selectLoading,
} from "../features/auth/authSlice";

function AuthStatus() {
  // –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑—ñ store
  const isAuthenticated = useSelector(selectIsAuthenticated);
  const user = useSelector(selectUser);
  const loading = useSelector(selectLoading);

  // –û—Ç—Ä–∏–º–∞–Ω–Ω—è dispatch –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ actions
  const dispatch = useDispatch();

  // –û–±—Ä–æ–±–Ω–∏–∫ –≤—Ö–æ–¥—É
  const handleLogin = () => {
    // –Ü–º—ñ—Ç—É—î–º–æ –≤—Ö—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    const testUser = {
      id: 1,
      name: "Taras",
      email: "taras@example.com",
    };

    dispatch(loginSuccess(testUser));
  };

  // –û–±—Ä–æ–±–Ω–∏–∫ –≤–∏—Ö–æ–¥—É
  const handleLogout = () => {
    dispatch(logout());
  };

  return (
    <div
      style={{
        padding: "20px",
        backgroundColor: "#f5f5f5",
        borderRadius: "8px",
        margin: "20px auto",
        maxWidth: "500px",
        textAlign: "center",
        boxShadow: "0 2px 8px rgba(0,0,0,0.1)",
      }}
    >
      {loading ? (
        <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
      ) : isAuthenticated ? (
        // –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π
        <div>
          <h2 style={{ color: "#4CAF50", marginBottom: "15px" }}>
            ‚úì –ü—Ä–∏–≤—ñ—Ç, {user.name}!
          </h2>
          <p style={{ color: "#666", marginBottom: "20px" }}>
            ID: {user.id} | Email: {user.email}
          </p>
          <button
            onClick={handleLogout}
            style={{
              padding: "12px 30px",
              backgroundColor: "#f44336",
              color: "white",
              border: "none",
              borderRadius: "6px",
              fontSize: "16px",
              cursor: "pointer",
              fontWeight: "bold",
              transition: "background-color 0.3s",
            }}
            onMouseOver={(e) => (e.target.style.backgroundColor = "#d32f2f")}
            onMouseOut={(e) => (e.target.style.backgroundColor = "#f44336")}
          >
            –í–∏–π—Ç–∏
          </button>
        </div>
      ) : (
        // –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π
        <div>
          <h2 style={{ color: "#ff9800", marginBottom: "15px" }}>
            ‚ö† –í–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ
          </h2>
          <p style={{ color: "#666", marginBottom: "20px" }}>
            –£–≤—ñ–π–¥—ñ—Ç—å, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Å–∏—Å—Ç–µ–º–∏
          </p>
          <button
            onClick={handleLogin}
            style={{
              padding: "12px 30px",
              backgroundColor: "#4CAF50",
              color: "white",
              border: "none",
              borderRadius: "6px",
              fontSize: "16px",
              cursor: "pointer",
              fontWeight: "bold",
              transition: "background-color 0.3s",
            }}
            onMouseOver={(e) => (e.target.style.backgroundColor = "#45a049")}
            onMouseOut={(e) => (e.target.style.backgroundColor = "#4CAF50")}
          >
            –£–≤—ñ–π—Ç–∏
          </button>
        </div>
      )}
    </div>
  );
}

export default AuthStatus;
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**

- `useSelector` - —Ö—É–∫ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑—ñ store
- `useDispatch` - —Ö—É–∫ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó dispatch
- `dispatch(loginSuccess(testUser))` - –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ action –∑ payload
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞–Ω—É –≤ Redux

---

## –ö—Ä–æ–∫ 6: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥–æ–ª–æ–≤–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ App

```javascript
// App.jsx
import React from "react";
import AuthStatus from "./components/AuthStatus";
import UserProfile from "./components/UserProfile";
import ProtectedContent from "./components/ProtectedContent";

function App() {
  return (
    <div
      style={{
        minHeight: "100vh",
        backgroundColor: "#e0e0e0",
        padding: "40px 20px",
        fontFamily: "Arial, sans-serif",
      }}
    >
      <div
        style={{
          maxWidth: "1200px",
          margin: "0 auto",
        }}
      >
        <h1
          style={{
            textAlign: "center",
            color: "#333",
            marginBottom: "40px",
            fontSize: "36px",
          }}
        >
          üîê Redux Toolkit Authentication Demo
        </h1>

        {/* –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç–∞—Ç—É—Å—É –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó */}
        <AuthStatus />

        {/* –ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ */}
        <UserProfile />

        {/* –ó–∞—Ö–∏—â–µ–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç */}
        <ProtectedContent />

        {/* –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–∞ –ø–∞–Ω–µ–ª—å */}
        <div
          style={{
            marginTop: "50px",
            padding: "25px",
            backgroundColor: "#fff",
            borderRadius: "8px",
            boxShadow: "0 2px 8px rgba(0,0,0,0.1)",
          }}
        >
          <h2 style={{ color: "#1976d2", marginTop: 0 }}>
            üìö –Ø–∫ –ø—Ä–∞—Ü—é—î Redux Toolkit:
          </h2>
          <ul style={{ lineHeight: "2", color: "#555" }}>
            <li>
              <strong>createSlice:</strong> –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î actions —Ç–∞
              reducers
            </li>
            <li>
              <strong>Immer:</strong> –î–æ–∑–≤–æ–ª—è—î –ø–∏—Å–∞—Ç–∏ "–º—É—Ç—É—é—á–∏–π" –∫–æ–¥ –±–µ–∑–ø–µ—á–Ω–æ
            </li>
            <li>
              <strong>useSelector:</strong> –ß–∏—Ç–∞—î –¥–∞–Ω—ñ –∑—ñ store
            </li>
            <li>
              <strong>useDispatch:</strong> –í—ñ–¥–ø—Ä–∞–≤–ª—è—î actions –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
              —Å—Ç–∞–Ω—É
            </li>
            <li>
              <strong>configureStore:</strong> –ù–∞–ª–∞—à—Ç–æ–≤—É—î store –∑ DevTools
            </li>
          </ul>
        </div>
      </div>
    </div>
  );
}

export default App;
```

---

## –ö—Ä–æ–∫ 7: –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ—Ñ—ñ–ª—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:

```javascript
// components/UserProfile.jsx
import React from "react";
import { useSelector } from "react-redux";
import { selectIsAuthenticated, selectUser } from "../features/auth/authSlice";

function UserProfile() {
  const isAuthenticated = useSelector(selectIsAuthenticated);
  const user = useSelector(selectUser);

  if (!isAuthenticated) {
    return null; // –ù–µ –ø–æ–∫–∞–∑—É—î–º–æ –ø—Ä–æ—Ñ—ñ–ª—å, —è–∫—â–æ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π
  }

  return (
    <div
      style={{
        padding: "25px",
        backgroundColor: "#fff",
        borderRadius: "8px",
        margin: "20px auto",
        maxWidth: "500px",
        boxShadow: "0 2px 8px rgba(0,0,0,0.1)",
      }}
    >
      <h3 style={{ color: "#333", marginTop: 0, marginBottom: "20px" }}>
        üë§ –ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
      </h3>

      <div
        style={{
          display: "flex",
          alignItems: "center",
          gap: "20px",
        }}
      >
        <div
          style={{
            width: "80px",
            height: "80px",
            backgroundColor: "#4CAF50",
            borderRadius: "50%",
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            fontSize: "32px",
            color: "white",
            fontWeight: "bold",
          }}
        >
          {user.name.charAt(0)}
        </div>

        <div>
          <p style={{ margin: "5px 0", fontSize: "18px", fontWeight: "bold" }}>
            {user.name}
          </p>
          <p style={{ margin: "5px 0", color: "#666" }}>{user.email}</p>
          <p style={{ margin: "5px 0", color: "#999", fontSize: "14px" }}>
            User ID: {user.id}
          </p>
        </div>
      </div>
    </div>
  );
}

export default UserProfile;
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É:

```javascript
// components/ProtectedContent.jsx
import React from "react";
import { useSelector } from "react-redux";
import { selectIsAuthenticated } from "../features/auth/authSlice";

function ProtectedContent() {
  const isAuthenticated = useSelector(selectIsAuthenticated);

  return (
    <div
      style={{
        padding: "25px",
        backgroundColor: isAuthenticated ? "#e8f5e9" : "#ffebee",
        borderRadius: "8px",
        margin: "20px auto",
        maxWidth: "500px",
        border: `2px solid ${isAuthenticated ? "#4CAF50" : "#f44336"}`,
      }}
    >
      <h3
        style={{
          color: isAuthenticated ? "#2e7d32" : "#c62828",
          marginTop: 0,
        }}
      >
        {isAuthenticated ? "üîì –ó–∞—Ö–∏—â–µ–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç" : "üîí –î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ"}
      </h3>

      {isAuthenticated ? (
        <div>
          <p style={{ color: "#555" }}>
            –í—ñ—Ç–∞—î–º–æ! –¶–µ —Å–µ–∫—Ä–µ—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è, –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏—à–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–º
            –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º.
          </p>
          <ul style={{ color: "#666" }}>
            <li>–û—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ</li>
            <li>–§—ñ–Ω–∞–Ω—Å–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</li>
            <li>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–∫–∫–∞—É–Ω—Ç—É</li>
          </ul>
        </div>
      ) : (
        <p style={{ color: "#666" }}>
          –¶–µ–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –ë—É–¥—å –ª–∞—Å–∫–∞,
          —É–≤—ñ–π–¥—ñ—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É.
        </p>
      )}
    </div>
  );
}

export default ProtectedContent;
```

---

## –ö—Ä–æ–∫ 8: –†–æ–∑—à–∏—Ä–µ–Ω–∏–π slice –∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–º–∏ –¥—ñ—è–º–∏

–î–æ–¥–∞–º–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É –ª–æ–≥—ñ–∫—É –≤—Ö–æ–¥—É –∑ —ñ–º—ñ—Ç–∞—Ü—ñ—î—é API –∑–∞–ø–∏—Ç—É:

```javascript
// features/auth/authSlice.js (—Ä–æ–∑—à–∏—Ä–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è)
import { createSlice, createAsyncThunk } from "@reduxjs/toolkit";

// –Ü–º—ñ—Ç–∞—Ü—ñ—è API –∑–∞–ø–∏—Ç—É
const fakeLoginAPI = (credentials) => {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (
        credentials.username === "taras" &&
        credentials.password === "password123"
      ) {
        resolve({
          id: 1,
          name: "Taras",
          email: "taras@example.com",
        });
      } else {
        reject(new Error("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–µ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∞–±–æ –ø–∞—Ä–æ–ª—å"));
      }
    }, 1500); // –Ü–º—ñ—Ç–∞—Ü—ñ—è –∑–∞—Ç—Ä–∏–º–∫–∏ –º–µ—Ä–µ–∂—ñ
  });
};

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π thunk –¥–ª—è –≤—Ö–æ–¥—É
export const loginAsync = createAsyncThunk(
  "auth/loginAsync",
  async (credentials, { rejectWithValue }) => {
    try {
      const user = await fakeLoginAPI(credentials);
      return user;
    } catch (error) {
      return rejectWithValue(error.message);
    }
  }
);

const initialState = {
  isAuthenticated: false,
  user: null,
  loading: false,
  error: null,
};

const authSlice = createSlice({
  name: "auth",
  initialState,
  reducers: {
    loginSuccess: (state, action) => {
      state.isAuthenticated = true;
      state.user = action.payload;
      state.loading = false;
      state.error = null;
    },
    logout: (state) => {
      state.isAuthenticated = false;
      state.user = null;
      state.loading = false;
      state.error = null;
    },
    setLoading: (state, action) => {
      state.loading = action.payload;
    },
    setError: (state, action) => {
      state.error = action.payload;
      state.loading = false;
    },
    clearError: (state) => {
      state.error = null;
    },
  },
  // –û–±—Ä–æ–±–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö actions
  extraReducers: (builder) => {
    builder
      // –û–±—Ä–æ–±–∫–∞ pending —Å—Ç–∞–Ω—É
      .addCase(loginAsync.pending, (state) => {
        state.loading = true;
        state.error = null;
      })
      // –û–±—Ä–æ–±–∫–∞ —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤—Ö–æ–¥—É
      .addCase(loginAsync.fulfilled, (state, action) => {
        state.isAuthenticated = true;
        state.user = action.payload;
        state.loading = false;
        state.error = null;
      })
      // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏
      .addCase(loginAsync.rejected, (state, action) => {
        state.loading = false;
        state.error = action.payload;
      });
  },
});

export const { loginSuccess, logout, setLoading, setError, clearError } =
  authSlice.actions;

export const selectIsAuthenticated = (state) => state.auth.isAuthenticated;
export const selectUser = (state) => state.auth.user;
export const selectLoading = (state) => state.auth.loading;
export const selectError = (state) => state.auth.error;

export default authSlice.reducer;
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ñ–æ—Ä–º–∏ –≤—Ö–æ–¥—É –∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—é –ª–æ–≥—ñ–∫–æ—é:

```javascript
// components/LoginForm.jsx
import React, { useState } from "react";
import { useDispatch, useSelector } from "react-redux";
import {
  loginAsync,
  clearError,
  selectLoading,
  selectError,
} from "../features/auth/authSlice";

function LoginForm() {
  const [username, setUsername] = useState("");
  const [password, setPassword] = useState("");

  const dispatch = useDispatch();
  const loading = useSelector(selectLoading);
  const error = useSelector(selectError);

  const handleSubmit = (e) => {
    e.preventDefault();
    dispatch(clearError());
    dispatch(loginAsync({ username, password }));
  };

  return (
    <div
      style={{
        padding: "30px",
        backgroundColor: "#fff",
        borderRadius: "8px",
        margin: "20px auto",
        maxWidth: "400px",
        boxShadow: "0 2px 8px rgba(0,0,0,0.1)",
      }}
    >
      <h3 style={{ marginTop: 0, textAlign: "center", color: "#333" }}>
        üîê –í—Ö—ñ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
      </h3>

      <form onSubmit={handleSubmit}>
        <div style={{ marginBottom: "15px" }}>
          <label
            style={{ display: "block", marginBottom: "5px", color: "#555" }}
          >
            –Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:
          </label>
          <input
            type="text"
            value={username}
            onChange={(e) => setUsername(e.target.value)}
            placeholder="taras"
            style={{
              width: "100%",
              padding: "10px",
              border: "2px solid #ddd",
              borderRadius: "4px",
              fontSize: "14px",
              boxSizing: "border-box",
            }}
          />
        </div>

        <div style={{ marginBottom: "20px" }}>
          <label
            style={{ display: "block", marginBottom: "5px", color: "#555" }}
          >
            –ü–∞—Ä–æ–ª—å:
          </label>
          <input
            type="password"
            value={password}
            onChange={(e) => setPassword(e.target.value)}
            placeholder="password123"
            style={{
              width: "100%",
              padding: "10px",
              border: "2px solid #ddd",
              borderRadius: "4px",
              fontSize: "14px",
              boxSizing: "border-box",
            }}
          />
        </div>

        {error && (
          <div
            style={{
              padding: "10px",
              backgroundColor: "#ffebee",
              color: "#c62828",
              borderRadius: "4px",
              marginBottom: "15px",
              fontSize: "14px",
            }}
          >
            ‚ùå {error}
          </div>
        )}

        <button
          type="submit"
          disabled={loading}
          style={{
            width: "100%",
            padding: "12px",
            backgroundColor: loading ? "#ccc" : "#4CAF50",
            color: "white",
            border: "none",
            borderRadius: "6px",
            fontSize: "16px",
            cursor: loading ? "not-allowed" : "pointer",
            fontWeight: "bold",
          }}
        >
          {loading ? "–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è..." : "–£–≤—ñ–π—Ç–∏"}
        </button>
      </form>

      <p
        style={{
          marginTop: "15px",
          fontSize: "12px",
          color: "#999",
          textAlign: "center",
        }}
      >
        –ü—ñ–¥–∫–∞–∑–∫–∞: taras / password123
      </p>
    </div>
  );
}

export default LoginForm;
```

---

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –¢–µ—Å—Ç 1: –ë–∞–∑–æ–≤–∏–π –≤—Ö—ñ–¥/–≤–∏—Ö—ñ–¥

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–æ–¥–∞—Ç–æ–∫
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–£–≤—ñ–π—Ç–∏"
3. **–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–∫—Å—Ç –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞ "–ü—Ä–∏–≤—ñ—Ç, Taras!"
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–í–∏–π—Ç–∏"
5. **–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–∫—Å—Ç –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞ "–í–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ"

### –¢–µ—Å—Ç 2: Redux DevTools

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Redux DevTools —É –±—Ä–∞—É–∑–µ—Ä—ñ
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–£–≤—ñ–π—Ç–∏"
3. **–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –£ DevTools –∑'—è–≤–ª—è—î—Ç—å—Å—è action `auth/loginSuccess`
4. –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ —Å—Ç–∞–Ω - `isAuthenticated: true`, `user: { id: 1, name: 'Taras' }`

### –¢–µ—Å—Ç 3: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –≤—Ö—ñ–¥

1. –í–≤–µ–¥—ñ—Ç—å `taras` / `password123`
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–£–≤—ñ–π—Ç–∏"
3. **–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ö–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—É—î "–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è..."
   - –ß–µ—Ä–µ–∑ 1.5 —Å–µ–∫ –∑'—è–≤–ª—è—î—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—Ö
4. –í–≤–µ–¥—ñ—Ç—å –Ω–µ–≤—ñ—Ä–Ω—ñ –¥–∞–Ω—ñ
5. **–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ó'—è–≤–ª—è—î—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
project/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ store.js
‚îÇ   ‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ authSlice.js
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthStatus.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginForm.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserProfile.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProtectedContent.jsx
‚îÇ   ‚îú‚îÄ‚îÄ App.jsx
‚îÇ   ‚îî‚îÄ‚îÄ index.js
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
```

---

## –ö–ª—é—á–æ–≤—ñ –ø–µ—Ä–µ–≤–∞–≥–∏ Redux Toolkit

‚úÖ **–ú–µ–Ω—à–µ boilerplate –∫–æ–¥—É** - `createSlice` –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è actions  
‚úÖ **Immer –≤–±—É–¥–æ–≤–∞–Ω–æ** - –º–æ–∂–Ω–∞ –ø–∏—Å–∞—Ç–∏ "–º—É—Ç—É—é—á–∏–π" –∫–æ–¥ –±–µ–∑–ø–µ—á–Ω–æ  
‚úÖ **DevTools –∑ –∫–æ—Ä–æ–±–∫–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è  
‚úÖ **TypeScript –ø—ñ–¥—Ç—Ä–∏–º–∫–∞** - –ø–æ–≤–Ω–∞ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è  
‚úÖ **createAsyncThunk** - —Å–ø—Ä–æ—â–µ–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—é  
‚úÖ **–ö—Ä–∞—â–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å** - –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –≤–±—É–¥–æ–≤–∞–Ω—ñ
